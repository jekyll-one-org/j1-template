/*
 # -----------------------------------------------------------------------------
 # ~/assets/theme/j1/modules/videojs/js/plugins/players/wt/wistia.min.js
 # Provides Wistia Playback Technology (Tech) for Video.js V8 and newer
 # See: https://github.com/edly-io/videojs-wistia
 #
 #  Product/Info:
 #  http://jekyll.one
 #
 # Copyright (C) 2020-2021 Zia Fazal
 # Copyright (C) 2021 Edly by Arbisoft
 # Copyright (C) 2023-2025 Juergen Adams
 #
 #  videojs-wistia is licensed under MIT License.
 #  See: https://github.com/edly-io/videojs-wistia/blob/master/LICENSE
 #  J1 Theme is licensed under MIT License.
 #  See: https://github.com/jekyll-one-org/j1-template/blob/main/LICENSE
 # -----------------------------------------------------------------------------
*/

!function(e,t){if("object"==typeof exports&&"undefined"!=typeof module){var i=require("video.js");module.exports=t(i.default||i)}else"function"==typeof define&&define.amd?define(["videojs"],(function(i){return e.Wistia=t(i)})):e.Wistia=t(e.videojs)}(this,(function(e){"use strict";var t,i,s,a=log4javascript.getLogger("videoJS.plugin.wistia"),o=e.browser.IS_IOS||e.browser.IS_NATIVE_ANDROID,r=e.getTech("Tech");class n extends r{constructor(e,t){super(e,t),this.setPoster(e.poster),this.setSrc(this.options_.source,!0);var i=document.getElementById(e.playerId);i.classList.remove("vjs-controls-disabled"),i.classList.add("vjs-controls-enabled"),i.classList.remove("vjs-user-inactive"),i.classList.add("vjs-user-active"),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-wistia",o&&(this.el_.parentNode.className+=" vjs-wistia-mobile"),n.isApiReady?this.initWistiaPlayer():n.apiReadyQueue.push(this))}.bind(this))}dispose(){if(this.wistiaPlayer)this.wistiaPlayer&&(this.wistiaPlayer.pause(),this.wistiaPlayer.remove());else{var e=n.apiReadyQueue.indexOf(this);-1!==e&&n.apiReadyQueue.splice(e,1)}this.wistiaPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-wistia","").replace(" vjs-wistia-mobile",""),this.el_.parentNode.removeChild(this.el_)}createEl(){var e=document.createElement("div");e.setAttribute("id",this.options_.techId),e.setAttribute("style","position:absolute;width:100%;height:100%;top:0;left:0"),e.setAttribute("class","vjs-tech "+this.options_.playback_css_class);var t=document.createElement("div");return t.appendChild(e),t}initWistiaPlayer(){var e={controlsVisibleOnLoad:!1,chromeless:!0,playbar:!1,playButton:!1,settingsControl:!1,smallPlayButton:!1,volumeControl:!1,videoFoam:!1,fullscreenButton:!1,preload:!0,doNotTrack:!0,autoPlay:!1};void 0!==this.options_.videoFoam&&(e.videoFoam=this.options_.videoFoam),void 0!==this.options_.source&&(this.videoId=this.options_.source.src),void 0!==this.options_.autoplay&&(e.autoPlay=this.options_.autoplay,e.muted=this.options_.autoplay);var t=this;window._wq=window._wq||[],_wq.push({id:this.videoId,options:e,onReady:e=>{t.wistiaPlayer=e,t.onPlayerReady(t.options_),t.wistiaPlayer.bind("end",t.onPlaybackEnded.bind(t))}}),isDev&&a.debug("\ncreated "+this.name_+" player on ID: "+this.el_.firstChild.id)}onPlayerReady(e){for(var i=e.poster,s=e.techId,o=document.getElementById(s),r=(document.getElementsByClassName("w-vulcan-v2"),document.getElementsByClassName("vjs-poster")),n=0;n<r.length;n++)r[n].style.cursor="default";""!==i?o.addEventListener("click",(e=>{t=this.wistiaPlayer.state(),isDev&&a.debug("\nwt player state: "+t)})):o.addEventListener("click",(e=>{t=this.wistiaPlayer.state(),isDev&&a.debug("\nwt player state: "+t),"beforeplay"===t&&(this.wistiaPlayer.play(),this.trigger("play"),isDev&&a.debug("\ntriggered play on state: "+t))})),this.options_.muted&&this.wistiaPlayer.mute(),this.playerReady_=!0,this.triggerReady(),this.playOnReady&&this.play()}onPlaybackEnded(){this.trigger("ended")}src(e){return this.setSrc({src:e}),this.source}setSrc(e){e&&e.src&&(delete this.errorName,this.source=e,this.options_.autoplay&&!o&&(this.isReady_?this.play():this.playOnReady=!0))}setPoster(e){this.poster_=e}autoplay(){return this.options_.autoplay}setAutoplay(e){this.options_.autoplay=e}loop(){return this.options_.loop}setLoop(e){this.options_.loop=e}play(){this.videoId&&(this.isReady_?(this.wistiaPlayer.play(),this.trigger("play")):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.wistiaPlayer.pause(),this.trigger("pause")}paused(){return"paused"===this.wistiaPlayer.state()||"ended"===this.wistiaPlayer.state()}currentTime(){return this.wistiaPlayer.time()}setCurrentTime(e){this.wistiaPlayer.time(e)}duration(){return this.wistiaPlayer.duration()}currentSrc(){return this.source&&this.source.src}ended(){return"ended"===this.wistiaPlayer.state()}volume(){return this.wistiaPlayer.volume()}setVolume(e){this.wistiaPlayer.volume(e),this.trigger("volumechange")}muted(){return this.wistiaPlayer.isMuted()}setMuted(e){!0===e?this.wistiaPlayer.mute():this.wistiaPlayer.unmute(),this.trigger("volumechange")}supportsFullScreen(){return!0}}function l(){n.isApiReady=!0,isDev&&a.debug("\nAPI loaded successfully");for(var e=0;e<n.apiReadyQueue.length;++e)n.apiReadyQueue[e].initWistiaPlayer();isDev&&a.debug("\nadded players to ready queue: #"+e),s=Date.now(),isDev&&a.debug("\ninitializing plugin: finished"),isDev&&a.debug("\nplugin initializing time: "+(s-i)+"ms")}n.isSupported=()=>!0,n.canPlaySource=e=>n.canPlayType(e.type),n.canPlayType=e=>"video/wistia"===e,n.apiReadyQueue=[];var d=setInterval((()=>{var t="block"===$("#content").css("display");"finished"===j1.getState()&&t&&(i=Date.now(),isDev&&a.debug("\ninitializing plugin: started"),isDev&&a.debug("\nversion of videoJS detected: "+e.VERSION),function(e,t){var i=!1,s=document.createElement("script"),a=document.getElementsByTagName("script")[0];a&&(a.parentNode.insertBefore(s,a),s.onload=()=>{i||(i=!0,t())},s.onreadystatechange=()=>{i||"complete"!==this.readyState&&"loaded"!==this.readyState||(i=!0,t())},s.src=e)}("//fast.wistia.com/assets/external/E-v1.js",l),function(){const e="\n        .vjs-wistia-mobile .vjs-big-play-button { display: none; }\n      ";var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),isDev&&a.debug("\nadded additional CSS styles"),t.appendChild(i)}(),clearInterval(d))}),10);void 0!==e.registerTech?e.registerTech("Wistia",n):console.error("\ninvalid version of videoJS detected: "+e.VERSION)}));
