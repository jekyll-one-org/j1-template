{
  "private": true,
  "name": "site",
  "version": "2023.3.4",
  "description": "Web/Content sources for J1 Starter",
  "main": "_config.yml",
  "config": {
    "bundler": "jekyll"
  },
  "homepage": "https://jekyll.one",
  "author": {
    "name": "Juergen Adams",
    "email": "jadams@jekyll-one.com",
    "url": "https://jekyll.one"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/jekyll-one-org/J1 Theme/issues"
  },
  "repository": "https://github.com/jekyll-one-org/J1 Theme/packages/400_theme_site/",
  "keywords": [
    "J1",
    "Template",
    "Starter"
  ],
  "ruby": {
    "gemfile": "Gemfile",
    "userize": "true"
  },
  "jekyll": {
    "configfile": "_config.yml",
    "metadata": ".jekyll-metadata",
    "opt_incremental": "--incremental",
    "opt_skip_initial_build": "--skip-initial-build",
    "opt_wp_jekyll_port": "41000",
    "opt_webserver": "puma",
    "opt_interface": "0.0.0.0",
    "opt_app_port": "41010",
    "opt_app_url": "http://localhost:41010/",
    "opt_watch": "--watch"
  },
  "nbi": {
    "opt_output_type": "plain",
    "opt_credentials": "fake/fake",
    "opt_nbi_input_folder": "D:/j1/github/j1-template/j1-template-2022.5.x/packages/400_theme_site/pages/public/jupyter/notebooks",
    "opt_nbi_output_folder": "D:/j1/github/j1-template/j1-template-2022.5.x/packages/400_theme_site/pages/public/jupyter/notebooks/textbooks"
  },
  "algolia": {
    "admin_key": "your-algolia-admin-key"
  },
  "wds": {
    "common": "../200_theme_js/wp4_configs/webpack.common.js",
    "develop": "../200_theme_js/wp4_configs/webpack.develop.js"
  },
  "rackup": {
    "web_server": "puma"
  },
  "scripts": {
    "app": "run-p -s app:*",
    "j1-app": "run-p -s app:*",
    "app:rackup": "cross-var cross-env INTERFACE=$npm_package_jekyll_opt_interface PORT=$npm_package_jekyll_opt_app_port bundle exec puma -C _data/puma/config.rb",
    "_app:jekyll-build": "cross-var cross-env JEKYLL_ENV=$npm_package_config_mode BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle exec jekyll b -c $npm_package_jekyll_configfile $npm_package_jekyll_opt_incremental --watch",
    "app:open": "npm run delay-3s && cross-var open-cli --background $npm_package_jekyll_opt_app_url",
    "audit": "npm audit",
    "algolia": "cross-env ALGOLIA_API_KEY=$npm_package_algolia_admin_key bundle exec jekyll algolia",
    "algolia-check": "cross-env ALGOLIA_API_KEY=$npm_package_algolia_admin_key bundle exec jekyll algolia --dry-run --verbose",
    "clean": "run-p -s clean:*",
    "clean-starter": "run-p -s clean:*",
    "clean:jekyll-conf": "shx rm -f _config* Gemfile* .jekyll-metadata",
    "clean:locks": "shx rm -f *.lock package-lock.json",
    "clean:log-folder": "shx rm -rf log",
    "clean:jekyll-site": "shx rm -rf jekyll.log *.old && shx rm -rf .bundle .sass-cache _site",
    "clean:jekyll-links": "shx rm -rf _includes _layouts _plugins _install apps assets",
    "clean:jekyll-folders": "shx rm -f _sass",
    "clean:jekyll-folders-forced": "shx rm -rf _logs/* .jekyll-cache",
    "clean:jekyll-pages-jupyter": "shx rm -f pages/public/jupyter/notebooks/textbooks/*html",
    "bundle": "run-s -s bundler:*",
    "bundler:info": "echo Create bundle ..",
    "bundler:clean": "shx rm -f Gemfile.lock",
    "bundler:check": "cross-var cross-env BUNDLE_USERIZE=$npm_package_ruby_userize if-env BUNDLE_USERIZE=true && run-s -s bundle_user:* || run-s -s bundle_system:*",
    "bundle_system:info": "echo Bundle Rubies using system path ..",
    "bundle_system:set-path": "bundle config set --local system true",
    "bundle_system:bundle": "cross-var cross-env BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle install",
    "bundle_user:info": "echo Bundle Rubies using user path ..",
    "bundle_user:set-path": "bundle config set --local path ~/.gem",
    "bundle_user:bundle": "bundle install",
    "build": "run-s -s jekyll_build:*",
    "postbuild": "run-s -s jekyll_post_build:*",
    "lint": "run-s -s lint:*",
    "_lint:link_es_conf": "shx rm -f _site/assets/themes/j1/adapter/js/.eslintrc.json && shx ln -s .eslintrc.json _site/assets/themes/j1/adapter/js",
    "lint:cp-es-lint-conf": "shx rm -f _site/assets/themes/j1/adapter/js/.eslintrc.json && shx cp .eslintrc.json _site/assets/themes/j1/adapter/js",
    "lint:adapter_js": "eslint --color _site/assets/themes/j1/adapter/js/*.js",
    "rebuild": "run-s -s rebuild:*",
    "rebuild:clean": "bundle exec jekyll clean",
    "_rebuild:j1-nbinteract-core": "shx cp -f ./node_modules/j1-nbinteract-core/lib/* ../300_theme_src/assets/themes/j1/modules/nbinteract-core/js/nbinteract",
    "rebuild:jekyll": "cross-var cross-env JEKYLL_ENV=$npm_package_config_mode BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle exec jekyll b --profile -c $npm_package_jekyll_configfile $npm_package_jekyll_opt_incremental",
    "rebuild:lint": "npm run lint",
    "jekyll_files": "run-s -s jekyll_files:*",
    "jekyll_files:gemfile": "shx cp -f ../300_theme_src/_install/dev/development.Gemfile ./Gemfile",
    "jekyll_files:conf": "shx cp -f ../300_theme_src/_install/dev/base-files/_config.yml ./_config.yml",
    "jekyll_files:j1-conf": "shx cp -f ../300_theme_src/_install/dev/config/j1_config.yml ./_data",
    "jekyll_files:private-config": "shx cp -f ../300_theme_src/_install/dev/config/private.default.yml ./_data/private.yml",
    "jekyll_files:eslintfile": "shx cp -f ../300_theme_src/_install/dev/adapter.eslintrc.json ./.eslintrc.json",
    "jekyll_build:j1-nbinteract-core": "shx cp -f ./node_modules/j1-nbinteract-core/lib/* ../300_theme_src/assets/themes/j1/modules/nbinteract-core/js/nbinteract",
    "jekyll_build:bundle": "cross-env BUNDLE_USERIZE=$npm_package_jekyll_userize npm run bundle",
    "jekyll_build:build": "cross-var cross-env JEKYLL_ENV=$npm_package_config_mode BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle exec jekyll b --profile -c $npm_package_jekyll_configfile $npm_package_jekyll_opt_incremental",
    "_jekyll_post_build:textbooks": "npm run build--all",
    "jekyll_post_build:make_sure_css_files_copied": "shx cp -rf ../100_theme_css/dist/* ../400_theme_site/assets/themes/j1/core/css",
    "jekyll_post_build:make_sure_js_files_copied": "shx cp -rf ../200_theme_js/dist/* ../400_theme_site/assets/themes/j1/core/js",
    "develop": "run-p -s develop:*",
    "develop:wds": "cd ../200_theme_js && cross-var cross-env WP_JEKYLL_PORT=$npm_package_jekyll_opt_wp_jekyll_port webpack serve --config $npm_package_wds_develop",
    "develop:jekyll": "cross-var cross-env JEKYLL_ENV=$npm_package_config_mode BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle exec jekyll s -c $npm_package_jekyll_configfile $npm_package_jekyll_opt_skip_initial_build $npm_package_jekyll_opt_incremental 2>jekyll.log",
    "delay-1s": "node ./node_modules/npm-delay 1000",
    "delay-2s": "node ./node_modules/npm-delay 2000",
    "delay-3s": "node ./node_modules/npm-delay 3000",
    "delay-5s": "node ./node_modules/npm-delay 5000",
    "setup-links": "cross-var if-env OS=Windows_NT && run-s -s link-default || cross-env OS=$(echo $(getos)) run-s -s switch-links",
    "switch-links": "if-env OS=darwin && run-s -s link-osx || run-s -s link-default",
    "link-default": "run-p -s link-default:*",
    "link-osx": "run-p -s link-osx:*",
    "_link-default:gemfile": "shx ln -s ./Gemfile ../../Gemfile",
    "link-default:apps": "shx ln -s ../300_theme_src/apps ./apps",
    "link-default:assets": "shx ln -s ../300_theme_src/assets ./assets",
    "link-default:includes": "shx ln -s ../300_theme_src/_includes ./_includes",
    "link-default:layouts": "shx ln -s ../300_theme_src/_layouts ./_layouts",
    "link-default:plugins": "shx ln -s  ../300_theme_src/_plugins ./_plugins",
    "link-default:sass": "shx ln -s ../100_theme_css/scss ./_sass",
    "link-default:install_files": "shx ln -s ../300_theme_src/_install ./_install",
    "link-osx:link-type": "echo use explicit symlinks for MacOS",
    "_link-osx:gemfile": "shx ln -s ./Gemfile ../..",
    "link-osx:apps": "shx ln -s ../300_theme_src/apps ./apps",
    "link-osx:assets": "shx ln -s ../300_theme_src/assets ./assets",
    "link-osx:includes": "shx ln -s ../300_theme_src/_includes ./_includes",
    "link-osx:layouts": "shx ln -s ../300_theme_src/_layouts ./_layouts",
    "link-osx:plugins": "shx ln -s ../300_theme_src/_plugins ./_plugins",
    "link-osx:sass": "shx ln -s ../100_theme_css/scss ./_sass",
    "link-osx:templates": "shx ln -s ../300_theme_src/_install ./_install",
    "remove-links": "shx rm -rf _includes _layouts _plugins _install apps assets",
    "get_version": "run-p -s get_version:*",
    "get_version:jekyll": "cross-var cross-env JEKYLL_ENV=$npm_package_config_mode BUNDLE_GEMFILE=$npm_package_ruby_gemfile bundle exec jekyll --version",
    "build--all": "npm run clean:jekyll-pages-jupyter && cross-var nbinteract -r $npm_package_nbi_opt_nbi_input_folder -o $npm_package_nbi_opt_nbi_output_folder -t $npm_package_nbi_opt_output_type -s $npm_package_nbi_opt_credentials"
  },
  "dependencies": {
    "cross-env": "^7.0.3",
    "cross-var": "^1.1.0",
    "getos": "^3.2.1",
    "getos-cli": "^1.0.0",
    "if-env": "^1.0.4",
    "j1-nbinteract-core": "^1",
    "npm-delay": "^1.0.4",
    "npm-run-all": "^4.1.5",
    "open-cli": "^7.0.1",
    "shelljs": "^0.8.3",
    "shx": "^0.3.4"
  },
  "devDependencies": {
    "@webpack-cli/serve": "^1.6.0",
    "eslint": "^7.19.0",
    "webpack": "^5.62.1",
    "webpack-cli": "^4.9.1",
    "webpack-dev-server": "^4.4.0",
    "webpack-merge": "^5.8.0"
  }
}
